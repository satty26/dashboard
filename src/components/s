// import PreferenceButton from "./PreferenceButton";

// import Options from "./Options";

import data from "../data";
import { useState } from 'react';

function HiringForm() {

  
  const [index,setIndex] = useState(0);
  function nextPage() {
   console.log(index);
   setIndex(index => (index+1)%data.length);   
  }
  
  return (
    <div>
      <div className="my-form">
        <form>
          <div className="form-field">
            <label className="label-text" for="name">
              Name
            </label>
            <input
              value={data[index].name}
              type="text"
              id="name"
              size="40"
              required
            />
          </div>
          <div className="form-field">
            <label className="label-text" for="email">
              Email
            </label>
            <input value={data[index].email} type="email" id="email" required />
          </div>
          <div className="form-field">
            <label className="label-text" for="cnum">
              Contact Number
            </label>
            <input
              value={data[index].contactNumber}
              type="tel"
              id="cnum"
              required
            />
          </div>
          {/* <div className="form-field">
          <label className="label-text">Academic Year</label>
          <Options />
        </div>
        <PreferenceButton name="Preference 1" />
        <PreferenceButton name="Preference 2" />
        <PreferenceButton name="Preference 3" />

        <div className="form-field">
          <label className="label-text" for="subject">What will you bring on the table for E-Cell?</label>
          <textarea
            id="subject"
            name="subject"
          ></textarea>
        </div>

        <div className="final-button">
          <button className="submit-button" type="submit">
            Send My Application
          </button>
        </div> */}
        </form>
      </div>
      <div className="footer">
        <h1>
          Page {index + 1}/{data.length}
        </h1>
        <button onClick={() => nextPage()}>Next</button>
      </div>
    </div>
  );
}

export default HiringForm;


import { db } from "./firebase";

var data = [
  {
    name: "doc.data().name",
    email: "doc.data().email",
    contactNumber: "doc.data().contactNumber",
    academicYear: "doc.data().academicYear",
    preference1: "doc.data().preference1",
    preference2: "doc.data().preference2",
    preference3: "doc.data().preference3",
    message: "doc.data().message",
  }
];


db.collection("recentData").onSnapshot(function (querySnapshot) {
  querySnapshot.forEach((doc) => {
    data.push({
      name: doc.data().name,
      email: doc.data().email,
      contactNumber: doc.data().contactNumber,
      academicYear: doc.data().academicYear,
      preference1: doc.data().preference1,
      preference2: doc.data().preference2,
      preference3: doc.data().preference3,
      message: doc.data().message,
    });
  });
});

export default data;
